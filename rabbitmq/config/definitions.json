{
  "rabbit_version": "3.13",
   "users": [
     {
       "name": "appuser",
       "password": "apppass123",
       "tags": "administrator"
     }
   ],
   "vhosts": [
     {"name": "/"},
     {"name": "app"}
   ],
   "permissions": [
     {"user":"appuser","vhost":"app","configure":".*","write":".*","read":".*"}
   ],
  "parameters": [],
  "global_parameters": [
    {"name":"cluster_name","value":"rabbit@rabbitmq"}
  ],
  "policies": [
    {
      "vhost": "app",
      "name": "quorum-default",
      "pattern": ".*",
      "apply-to": "queues",
      "definition": {
        "queue-type": "quorum"
      },
      "priority": 0
    }
  ],
  "exchanges": [
    {
      "name": "retry.exchange",
      "vhost": "app",
      "type": "x-delayed-message",
      "durable": true,
      "auto_delete": false,
      "internal": false,
      "arguments": {
        "x-delayed-type": "direct"
      }
    },
    {
      "name": "dead.exchange",
      "vhost": "app",
      "type": "direct",
      "durable": true,
      "auto_delete": false,
      "internal": false,
      "arguments": {}
    }
  ],
  "queues": [
    {
      "name": "jobs.queue",
      "vhost": "app",
      "durable": true,
      "auto_delete": false,
      "arguments": {
        "x-dead-letter-exchange": "dead.exchange",
        "x-dead-letter-routing-key": "jobs.dlq"
      }
    },
    {
      "name": "jobs.dlq",
      "vhost": "app",
      "durable": true,
      "auto_delete": false,
      "arguments": {}
    }
  ],
  "bindings": [
    {
      "source": "retry.exchange",
      "vhost": "app",
      "destination": "jobs.queue",
      "destination_type": "queue",
      "routing_key": "jobs",
      "arguments": {}
    },
    {
      "source": "dead.exchange",
      "vhost": "app",
      "destination": "jobs.dlq",
      "destination_type": "queue",
      "routing_key": "jobs.dlq",
      "arguments": {}
    }
  ]
}
